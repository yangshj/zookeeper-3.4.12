

一、集群信息的配置
    在zoo.cfg这个文件中，配置集群信息是存在一定的格式：service.N =YYY： A：B

    N：代表服务器编号（也就是myid里面的值）
    YYY：服务器地址
    A：表示 Flower 跟 Leader的通信端口，简称服务端内部通信的端口（默认2888）
    B：表示 是选举端口（默认是3888）

    例如：
        server.1=hadoop05:2888:3888
        server.2=hadoop06:2888:3888
        server.3=hadoop07:2888:3888




二、详细配置讲解


```
# 快照存储目录,无默认值
dataDir=
# 事务存储目录,无默认值
dataLogDir=
# 集群节点对外提供服务的监听端口,默认2181
clientPort=2181
# 集群节点对外提供服务的监听host地址,默认监听0.0.0.0
clientPortAddress=0.0.0.0

# 每个客户端ip的最大连接数限制,默认60
maxClientCnxns=60

# zk服务器的时钟周期定义,它是一个时间单位度量,单位为毫秒
# 默认值为3000,也就是说一个时钟周期为3秒
tickTime=3000

######################################################
# 最小和最大会话超时时间,用于限制客户端连接的超时时间设置
# 如果客户端超时值比最小值小,则被修正为最小值
# 如果客户端超市之比最大值大,则被修正为最大值
######################################################
# 客户端会话的最小超时时间,-1代表使用默认值,默认为2个tickTime
minSessionTimeout=-1
# 客户端会话的最大超时时间,-1代表使用默认值,默认为20个tickTime
maxSessionTimeout=-1
######################################################
# 以下两个配置,用于配置数据目录清理管理器(DatadirCleanupManager)的运行逻辑
######################################################
# 清理数据时,需要保存的快照数量,默认值为3,且配置值至少为3
autopurge.snapRetainCount=3
# 运行清理任务的时间间隔,单位为小时,默认值为1,负数和0代表代表不执行清理
autopurge.purgeInterval=1
#-----------------------------------------------------------------------------------------------------------------------
######################################################
# 以上为独立模式和集群模式都需要配置的属性
# 以下为集群模式的专用配置
######################################################
# 集群初始化阶段的网络读取超时时间,单位为tickTime,无默认值
# 从选举结束到集群对外提供服务的这段时间,称之为初始化阶段
# 初始化需要经过epoch协商,以及为达到一致性状态leader向follower发起的数据传输
initLimit=10
# 集群对外服务阶段,leader向follower的同步数据的网络读取超时时间,单位为tickTime,无默认值
syncLimit=5
# 集群群首选举时使用的算法标识,当前只支持3快速群首选举(FastLeaderElection,简称FLE)
electionAlg=3
# 当前服务器节点的角色,可选值为:participant(参与者) or observer(观察者)
# 默认为参与者
peerType=participant
# 节点配置,格式为:  server.sid=ip:syncPort:electionPort:role
#server.1=127.0.0.1:2183:2183:participant
#server.2=192.168.0.1:2183:2183:participant


######################################################
# 以下为组策略配置,如果进行了组配置,zk会改变仲裁策略
# 默认仲裁策略QuorumMajority为数量过半
# 配置组策略后,仲裁策略变为QuorumHierarchical分层仲裁,即组内服务器过半的组的数量要过半
# 组策略在zk多机房多机架部署下,可以更好提高集群可靠性

# 集群组配置,格式为:  group.gid=sid1:sid2:......
#group.1=1:2
# 节点权重,格式为:  server.sid=weight,默认权重都为1
# 上述所说的数量过半中的[数量],实际是权重之和
#weight.1=1
#weight.2=1


######################################################
# 剩余的其他key/value配置,都会给key追加"zookeeper."前缀
# 用于zk的扩展配置
######################################################
```

